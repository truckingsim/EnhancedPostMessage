<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>EnhancedPostMessage</title>
    <link href="static/css/main.css" rel="stylesheet"/>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.2/styles/default.min.css">
</head>
<body data-spy="scroll" data-target="nav">
<nav class="navbar-inverse navbar-fixed-top navbar-default" role="navigation">
    <div class="container-fluid">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#main-nav">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="/">EnhancedPostMessage</a>
        </div>

        <!-- Collect the nav links, forms, and other content for toggling -->
        <div class="collapse navbar-right navbar-collapse" id="main-nav">
            <ul class="nav navbar-nav">
                <li class="active">
                    <a href="#top">Home</a>
                </li>
                <li>
                    <a href="#container">Link</a>
                </li>
            </ul>
        </div>
        <!-- /.navbar-collapse -->
    </div>
    <!-- /.container-fluid -->
</nav>

<div id="top"></div>
<div class="container">
    <div class="row">
        <div class="col-xs-12">
            <h2 id="enhancedpostmessage">EnhancedPostMessage</h2>

            <p>An easy way to do 1 and 2 way communication across multiple frames/windows. Supports adding events
                programatically, and triggering events at any time after being instantiated.</p>

            <hr>
            <h3 id="options">Options</h3>
            <p>You can view all options in the README: <a href="https://github.com/truckingsim/EnhancedPostMessage/blob/master/README.md" target="_blank">README.md</a></p>
        </div>
    </div>
    <div class="row">
        <div class="col-xs-12">
            <h3>One way communication</h3>
        </div>
    </div>
    <div class="row">
        <div class="col-xs-9 main">
            <iframe src="iframes/oneWay.html" id="oneWayIframe"></iframe>
        </div>
        <div class="col-xs-3 side-menu">
            <button id="oneWayButton" class="btn btn-primary">Trigger Message</button>
        </div>


    </div>

</div>

<script src="dist/EnhancedPostMessage.js"></script>
<script src="static/bower_components/jquery/dist/jquery.min.js"></script>
<script src="static/bower_components/bootstrap/dist/js/bootstrap.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.2/highlight.min.js"></script>
<script>
    hljs.initHighlightingOnLoad();
    EnhancedPostMessage({
        sources: {
            oneWay: document.getElementById('oneWayIframe')
        },
        listeners: {
            test: function (data) {
                console.log(data);
            }
        },
        events: {
            oneWay: true
        },
        debug: true
    });

    // Buttons
    var oneWayButton = document.getElementById('oneWayButton');

    // click listeners
    oneWayButton.addEventListener('click', function(){
        EnhancedPostMessage.trigger('oneWay', 'oneWay');
    });
</script>
</body>
</html>
